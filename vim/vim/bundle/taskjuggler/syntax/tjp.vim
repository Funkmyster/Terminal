" Vim syntax file
" Language:     TaskJuggler
" Maintainer:   TaskJuggler Developers <taskjuggler-devel@googlegroups.com>
" Last Change:  Tue Sep 13 19:31:13 +0200 2011
" This file was automatically generated by VimSyntax.rb

if exists("b:current_syntax")
  finish
endif

setlocal softtabstop=2
setlocal cindent shiftwidth=2
setlocal tabstop=2
setlocal expandtab
setlocal cinoptions=g0,t0,+0,(0,c0,C1
setlocal cinwords=account,allocate,booking,columns,dailymax,dailymin,date,depends,export,extend,icalreport,include,journalentry,limits,maximum,minimum,monthlymax,monthlymin,navigator,newtask,nikureport,precedes,project,projection,reference,resource,resourcereport,richtext,scenario,shift,status,statussheet,statussheetreport,supplement,tagfile,task,taskreport,text,textreport,timesheet,timesheetreport,weeklymax,weeklymin
setlocal cinkeys=0{,0},!^F,o,O
setlocal cindent

syn keyword tjp_macro macro contained
syn keyword tjp_project project contained
syn keyword tjp_supplement supplement contained

syn keyword tjp_nikureport nikureport contained
hi def link tjp_nikureport Function
syn keyword tjp_scenario scenario contained
hi def link tjp_scenario Function
syn keyword tjp_shift shift contained
hi def link tjp_shift Function
syn keyword tjp_task task contained
hi def link tjp_task Function
syn keyword tjp_report_resourcereport resourcereport contained
hi def link tjp_report_resourcereport Function
syn keyword tjp_report_taskreport taskreport contained
hi def link tjp_report_taskreport Function
syn keyword tjp_report_textreport textreport contained
hi def link tjp_report_textreport Function
syn keyword tjp_timesheetreport timesheetreport contained
hi def link tjp_timesheetreport Function
syn keyword tjp_export export contained
hi def link tjp_export Function
syn keyword tjp_resource resource contained
hi def link tjp_resource Function
syn keyword tjp_account account contained
hi def link tjp_account Function
syn keyword tjp_statussheetreport statussheetreport contained
hi def link tjp_statussheetreport Function
syn keyword tjp_task_statussheet task contained
hi def link tjp_task_statussheet Function

syn keyword tjp_shifts_resource shifts contained
hi def link tjp_shifts_resource Type
syn keyword tjp_end_limit end contained
hi def link tjp_end_limit Type
syn keyword tjp_columns columns contained
hi def link tjp_columns Type
syn keyword tjp_depends depends contained
hi def link tjp_depends Type
syn keyword tjp_currency currency contained
hi def link tjp_currency Type
syn keyword tjp_note_task note contained
hi def link tjp_note_task Type
syn keyword tjp_epilog epilog contained
hi def link tjp_epilog Type
syn keyword tjp_sortjournalentries sortjournalentries contained
hi def link tjp_sortjournalentries Type
syn keyword tjp_period_limit period contained
hi def link tjp_period_limit Type
syn keyword tjp_period_column period contained
hi def link tjp_period_column Type
syn keyword tjp_vacation vacation
hi def link tjp_vacation Type
syn keyword tjp_halign_column halign contained
hi def link tjp_halign_column Type
syn keyword tjp_shift_task shift contained
hi def link tjp_shift_task Type
syn keyword tjp_shift_resource shift contained
hi def link tjp_shift_resource Type
syn keyword tjp_disabled disabled contained
hi def link tjp_disabled Type
syn keyword tjp_scenariospecific_extend scenariospecific contained
hi def link tjp_scenariospecific_extend Type
syn keyword tjp_center center contained
hi def link tjp_center Type
syn keyword tjp_shifts_task shifts contained
hi def link tjp_shifts_task Type
syn keyword tjp_listtype_column listtype contained
hi def link tjp_listtype_column Type
syn keyword tjp_celltext_column celltext contained
hi def link tjp_celltext_column Type
syn keyword tjp_mandatory mandatory contained
hi def link tjp_mandatory Type
syn keyword tjp_flags flags
hi def link tjp_flags Type
syn keyword tjp_formats formats contained
hi def link tjp_formats Type
syn keyword tjp_width_column width contained
hi def link tjp_width_column Type
syn keyword tjp_limits_allocate limits contained
hi def link tjp_limits_allocate Type
syn keyword tjp_resourceprefix resourceprefix contained
hi def link tjp_resourceprefix Type
syn keyword tjp_timesheet timesheet contained
hi def link tjp_timesheet Type
syn keyword tjp_rolluptask rolluptask contained
hi def link tjp_rolluptask Type
syn keyword tjp_balance balance
hi def link tjp_balance Type
syn keyword tjp_dailyworkinghours dailyworkinghours contained
hi def link tjp_dailyworkinghours Type
syn keyword tjp_strict_projection strict contained
hi def link tjp_strict_projection Type
syn keyword tjp_prolog prolog contained
hi def link tjp_prolog Type
syn keyword tjp_projectid_task projectid contained
hi def link tjp_projectid_task Type
syn keyword tjp_listitem_column listitem contained
hi def link tjp_listitem_column Type
syn keyword tjp_scenario_ical scenario contained
hi def link tjp_scenario_ical Type
syn keyword tjp_scheduling scheduling contained
hi def link tjp_scheduling Type
syn keyword tjp_weekstartsmonday weekstartsmonday contained
hi def link tjp_weekstartsmonday Type
syn keyword tjp_select select contained
hi def link tjp_select Type
syn keyword tjp_journalentry journalentry contained
hi def link tjp_journalentry Type
syn keyword tjp_fail fail contained
hi def link tjp_fail Type
syn keyword tjp_isfeatureof isfeatureof contained
hi def link tjp_isfeatureof Type
syn keyword tjp_columnid_alert alert
hi def link tjp_columnid_alert Type
syn keyword tjp_columnid_alertmessages alertmessages
hi def link tjp_columnid_alertmessages Type
syn keyword tjp_columnid_alertsummaries alertsummaries
hi def link tjp_columnid_alertsummaries Type
syn keyword tjp_columnid_alerttrend alerttrend
hi def link tjp_columnid_alerttrend Type
syn keyword tjp_columnid_chart chart
hi def link tjp_columnid_chart Type
syn keyword tjp_columnid_complete complete
hi def link tjp_columnid_complete Type
syn keyword tjp_columnid_completed completed
hi def link tjp_columnid_completed Type
syn keyword tjp_columnid_criticalness criticalness
hi def link tjp_columnid_criticalness Type
syn keyword tjp_columnid_cost cost
hi def link tjp_columnid_cost Type
syn keyword tjp_columnid_daily daily
hi def link tjp_columnid_daily Type
syn keyword tjp_columnid_directreports directreports
hi def link tjp_columnid_directreports Type
syn keyword tjp_columnid_duration duration
hi def link tjp_columnid_duration Type
syn keyword tjp_columnid_duties duties
hi def link tjp_columnid_duties Type
syn keyword tjp_columnid_efficiency efficiency
hi def link tjp_columnid_efficiency Type
syn keyword tjp_columnid_effort effort
hi def link tjp_columnid_effort Type
syn keyword tjp_columnid_effortdone effortdone
hi def link tjp_columnid_effortdone Type
syn keyword tjp_columnid_effortleft effortleft
hi def link tjp_columnid_effortleft Type
syn keyword tjp_columnid_email email
hi def link tjp_columnid_email Type
syn keyword tjp_columnid_end end
hi def link tjp_columnid_end Type
syn keyword tjp_columnid_flags flags
hi def link tjp_columnid_flags Type
syn keyword tjp_columnid_followers followers
hi def link tjp_columnid_followers Type
syn keyword tjp_columnid_freetime freetime
hi def link tjp_columnid_freetime Type
syn keyword tjp_columnid_freework freework
hi def link tjp_columnid_freework Type
syn keyword tjp_columnid_fte fte
hi def link tjp_columnid_fte Type
syn keyword tjp_columnid_headcount headcount
hi def link tjp_columnid_headcount Type
syn keyword tjp_columnid_hierarchindex hierarchindex
hi def link tjp_columnid_hierarchindex Type
syn keyword tjp_columnid_hourly hourly
hi def link tjp_columnid_hourly Type
syn keyword tjp_columnid_id id
hi def link tjp_columnid_id Type
syn keyword tjp_columnid_index index
hi def link tjp_columnid_index Type
syn keyword tjp_columnid_inputs inputs
hi def link tjp_columnid_inputs Type
syn keyword tjp_columnid_journal journal
hi def link tjp_columnid_journal Type
syn keyword tjp_columnid_journal_sub journal_sub
hi def link tjp_columnid_journal_sub Type
syn keyword tjp_columnid_journalmessages journalmessages
hi def link tjp_columnid_journalmessages Type
syn keyword tjp_columnid_journalsummaries journalsummaries
hi def link tjp_columnid_journalsummaries Type
syn keyword tjp_columnid_line line
hi def link tjp_columnid_line Type
syn keyword tjp_columnid_managers managers
hi def link tjp_columnid_managers Type
syn keyword tjp_columnid_maxend maxend
hi def link tjp_columnid_maxend Type
syn keyword tjp_columnid_maxstart maxstart
hi def link tjp_columnid_maxstart Type
syn keyword tjp_columnid_minend minend
hi def link tjp_columnid_minend Type
syn keyword tjp_columnid_minstart minstart
hi def link tjp_columnid_minstart Type
syn keyword tjp_columnid_monthly monthly
hi def link tjp_columnid_monthly Type
syn keyword tjp_columnid_no no
hi def link tjp_columnid_no Type
syn keyword tjp_columnid_name name
hi def link tjp_columnid_name Type
syn keyword tjp_columnid_note note
hi def link tjp_columnid_note Type
syn keyword tjp_columnid_pathcriticalness pathcriticalness
hi def link tjp_columnid_pathcriticalness Type
syn keyword tjp_columnid_precursors precursors
hi def link tjp_columnid_precursors Type
syn keyword tjp_columnid_priority priority
hi def link tjp_columnid_priority Type
syn keyword tjp_columnid_quarterly quarterly
hi def link tjp_columnid_quarterly Type
syn keyword tjp_columnid_rate rate
hi def link tjp_columnid_rate Type
syn keyword tjp_columnid_reports reports
hi def link tjp_columnid_reports Type
syn keyword tjp_columnid_resources resources
hi def link tjp_columnid_resources Type
syn keyword tjp_columnid_responsible responsible
hi def link tjp_columnid_responsible Type
syn keyword tjp_columnid_revenue revenue
hi def link tjp_columnid_revenue Type
syn keyword tjp_columnid_scenario scenario
hi def link tjp_columnid_scenario Type
syn keyword tjp_columnid_seqno seqno
hi def link tjp_columnid_seqno Type
syn keyword tjp_columnid_start start
hi def link tjp_columnid_start Type
syn keyword tjp_columnid_status status
hi def link tjp_columnid_status Type
syn keyword tjp_columnid_targets targets
hi def link tjp_columnid_targets Type
syn keyword tjp_columnid_wbs wbs
hi def link tjp_columnid_wbs Type
syn keyword tjp_columnid_bsi bsi
hi def link tjp_columnid_bsi Type
syn keyword tjp_columnid_weekly weekly
hi def link tjp_columnid_weekly Type
syn keyword tjp_columnid_yearly yearly
hi def link tjp_columnid_yearly Type
syn keyword tjp_copyright copyright
hi def link tjp_copyright Type
syn keyword tjp_rate_resource rate contained
hi def link tjp_rate_resource Type
syn keyword tjp_start_column start contained
hi def link tjp_start_column Type
syn keyword tjp_replace replace contained
hi def link tjp_replace Type
syn keyword tjp_dailymax dailymax contained
hi def link tjp_dailymax Type
syn keyword tjp_monthlymax monthlymax contained
hi def link tjp_monthlymax Type
syn keyword tjp_workinghours_project workinghours contained
hi def link tjp_workinghours_project Type
syn keyword tjp_efficiency efficiency contained
hi def link tjp_efficiency Type
syn keyword tjp_responsible responsible contained
hi def link tjp_responsible Type
syn keyword tjp_flags_report flags contained
hi def link tjp_flags_report Type
syn keyword tjp_managers managers contained
hi def link tjp_managers Type
syn keyword tjp_end end contained
hi def link tjp_end Type
syn keyword tjp_title_column title contained
hi def link tjp_title_column Type
syn keyword tjp_newtask newtask contained
hi def link tjp_newtask Type
syn keyword tjp_limits limits contained
hi def link tjp_limits Type
syn keyword tjp_reference_extend reference contained
hi def link tjp_reference_extend Type
syn keyword tjp_minimum minimum contained
hi def link tjp_minimum Type
syn keyword tjp_sloppy_booking sloppy contained
hi def link tjp_sloppy_booking Type
syn keyword tjp_sortresources sortresources contained
hi def link tjp_sortresources Type
syn keyword tjp_workinghours_shift workinghours contained
hi def link tjp_workinghours_shift Type
syn keyword tjp_timingresolution timingresolution contained
hi def link tjp_timingresolution Type
syn keyword tjp_caption caption contained
hi def link tjp_caption Type
syn keyword tjp_shift_timesheet shift contained
hi def link tjp_shift_timesheet Type
syn keyword tjp_scenarios_export scenarios contained
hi def link tjp_scenarios_export Type
syn keyword tjp_date_extend date contained
hi def link tjp_date_extend Type
syn keyword tjp_shorttimeformat shorttimeformat contained
hi def link tjp_shorttimeformat Type
syn keyword tjp_chargeset chargeset contained
hi def link tjp_chargeset Type
syn keyword tjp_istask istask contained
hi def link tjp_istask Type
syn keyword tjp_fontcolor_column fontcolor contained
hi def link tjp_fontcolor_column Type
syn keyword tjp_journalmode journalmode contained
hi def link tjp_journalmode Type
syn keyword tjp_booking_task booking contained
hi def link tjp_booking_task Type
syn keyword tjp_maxend maxend contained
hi def link tjp_maxend Type
syn keyword tjp_timeoff_nikureport timeoff contained
hi def link tjp_timeoff_nikureport Type
syn keyword tjp_persistent persistent contained
hi def link tjp_persistent Type
syn keyword tjp_overtime_booking overtime contained
hi def link tjp_overtime_booking Type
syn keyword tjp_minend minend contained
hi def link tjp_minend Type
syn keyword tjp_milestone milestone contained
hi def link tjp_milestone Type
syn keyword tjp_halign_right right
hi def link tjp_halign_right Type
syn keyword tjp_hideresource hideresource contained
hi def link tjp_hideresource Type
syn keyword tjp_projection projection contained
hi def link tjp_projection Type
syn keyword tjp_priority priority contained
hi def link tjp_priority Type
syn keyword tjp_period_report period contained
hi def link tjp_period_report Type
syn keyword tjp_timezone timezone contained
hi def link tjp_timezone Type
syn keyword tjp_tagfile tagfile contained
hi def link tjp_tagfile Type
syn keyword tjp_hidereport hidereport contained
hi def link tjp_hidereport Type
syn keyword tjp_selfcontained selfcontained contained
hi def link tjp_selfcontained Type
syn keyword tjp_alert alert contained
hi def link tjp_alert Type
syn keyword tjp_details details contained
hi def link tjp_details Type
syn keyword tjp_workinghours_resource workinghours contained
hi def link tjp_workinghours_resource Type
syn keyword tjp_limits_resource limits contained
hi def link tjp_limits_resource Type
syn keyword tjp_numberformat numberformat contained
hi def link tjp_numberformat Type
syn keyword tjp_adopt_task adopt contained
hi def link tjp_adopt_task Type
syn keyword tjp_sloppy_projection sloppy contained
hi def link tjp_sloppy_projection Type
syn keyword tjp_isleaf isleaf contained
hi def link tjp_isleaf Type
syn keyword tjp_now now contained
hi def link tjp_now Type
syn keyword tjp_maxstart maxstart contained
hi def link tjp_maxstart Type
syn keyword tjp_cellcolor_column cellcolor contained
hi def link tjp_cellcolor_column Type
syn keyword tjp_trackingscenario trackingscenario contained
hi def link tjp_trackingscenario Type
syn keyword tjp_onstart onstart contained
hi def link tjp_onstart Type
syn keyword tjp_account_task account contained
hi def link tjp_account_task Type
syn keyword tjp_vacation_shift vacation contained
hi def link tjp_vacation_shift Type
syn keyword tjp_effort effort contained
hi def link tjp_effort Type
syn keyword tjp_sorttasks sorttasks contained
hi def link tjp_sorttasks Type
syn keyword tjp_definitions definitions contained
hi def link tjp_definitions Type
syn keyword tjp_resourceroot resourceroot contained
hi def link tjp_resourceroot Type
syn keyword tjp_hasalert hasalert contained
hi def link tjp_hasalert Type
syn keyword tjp_resources_limit resources contained
hi def link tjp_resources_limit Type
syn keyword tjp_treelevel treelevel contained
hi def link tjp_treelevel Type
syn keyword tjp_flags_task flags contained
hi def link tjp_flags_task Type
syn keyword tjp_endcredit endcredit contained
hi def link tjp_endcredit Type
syn keyword tjp_purge purge contained
hi def link tjp_purge Type
syn keyword tjp_priority_timesheet priority contained
hi def link tjp_priority_timesheet Type
syn keyword tjp_journalattributes journalattributes contained
hi def link tjp_journalattributes Type
syn keyword tjp_resourceattributes resourceattributes contained
hi def link tjp_resourceattributes Type
syn keyword tjp_dailymin dailymin contained
hi def link tjp_dailymin Type
syn keyword tjp_right right contained
hi def link tjp_right Type
syn keyword tjp_footer footer contained
hi def link tjp_footer Type
syn keyword tjp_vacation_resource vacation contained
hi def link tjp_vacation_resource Type
syn keyword tjp_scenarios scenarios contained
hi def link tjp_scenarios Type
syn keyword tjp_monthlymin monthlymin contained
hi def link tjp_monthlymin Type
syn keyword tjp_projectid projectid
hi def link tjp_projectid Type
syn keyword tjp_isactive isactive contained
hi def link tjp_isactive Type
syn keyword tjp_end_column end contained
hi def link tjp_end_column Type
syn keyword tjp_statussheet statussheet contained
hi def link tjp_statussheet Type
syn keyword tjp_allocate allocate contained
hi def link tjp_allocate Type
syn keyword tjp_limits_task limits contained
hi def link tjp_limits_task Type
syn keyword tjp_task_timesheet task contained
hi def link tjp_task_timesheet Type
syn keyword tjp_tooltip_column tooltip contained
hi def link tjp_tooltip_column Type
syn keyword tjp_work work contained
hi def link tjp_work Type
syn keyword tjp_charge charge contained
hi def link tjp_charge Type
syn keyword tjp_ismilestone ismilestone contained
hi def link tjp_ismilestone Type
syn keyword tjp_left left contained
hi def link tjp_left Type
syn keyword tjp_hidejournalentry hidejournalentry contained
hi def link tjp_hidejournalentry Type
syn keyword tjp_summary summary contained
hi def link tjp_summary Type
syn keyword tjp_ischildof ischildof contained
hi def link tjp_ischildof Type
syn keyword tjp_timezone_shift timezone contained
hi def link tjp_timezone_shift Type
syn keyword tjp_loadunit loadunit contained
hi def link tjp_loadunit Type
syn keyword tjp_halign_left left
hi def link tjp_halign_left Type
syn keyword tjp_richtext_extend richtext contained
hi def link tjp_richtext_extend Type
syn keyword tjp_period_task period contained
hi def link tjp_period_task Type
syn keyword tjp_weeklymax weeklymax contained
hi def link tjp_weeklymax Type
syn keyword tjp_warn warn contained
hi def link tjp_warn Type
syn keyword tjp_duration duration contained
hi def link tjp_duration Type
syn keyword tjp_opennodes opennodes contained
hi def link tjp_opennodes Type
syn keyword tjp_length length contained
hi def link tjp_length Type
syn keyword tjp_isdependencyof isdependencyof contained
hi def link tjp_isdependencyof Type
syn keyword tjp_scheduled scheduled contained
hi def link tjp_scheduled Type
syn keyword tjp_isongoing isongoing contained
hi def link tjp_isongoing Type
syn keyword tjp_headline headline contained
hi def link tjp_headline Type
syn keyword tjp_booking_resource booking contained
hi def link tjp_booking_resource Type
syn keyword tjp_alternative alternative contained
hi def link tjp_alternative Type
syn keyword tjp_shifts_allocate shift contained
hi def link tjp_shifts_allocate Type
syn keyword tjp_flags_timesheet flags contained
hi def link tjp_flags_timesheet Type
syn keyword tjp_remaining remaining contained
hi def link tjp_remaining Type
syn keyword tjp_status_statussheet status contained
hi def link tjp_status_statussheet Type
syn keyword tjp_weekstartssunday weekstartssunday contained
hi def link tjp_weekstartssunday Type
syn keyword tjp_onend onend contained
hi def link tjp_onend Type
syn keyword tjp_taskprefix taskprefix contained
hi def link tjp_taskprefix Type
syn keyword tjp_rate rate
hi def link tjp_rate Type
syn keyword tjp_author author contained
hi def link tjp_author Type
syn keyword tjp_active active contained
hi def link tjp_active Type
syn keyword tjp_start start contained
hi def link tjp_start Type
syn keyword tjp_enabled enabled contained
hi def link tjp_enabled Type
syn keyword tjp_header header contained
hi def link tjp_header Type
syn keyword tjp_flags_statussheet flags contained
hi def link tjp_flags_statussheet Type
syn keyword tjp_status_timesheet status contained
hi def link tjp_status_timesheet Type
syn keyword tjp_flags_journalentry flags contained
hi def link tjp_flags_journalentry Type
syn keyword tjp_end_timesheet end contained
hi def link tjp_end_timesheet Type
syn keyword tjp_reportprefix reportprefix contained
hi def link tjp_reportprefix Type
syn keyword tjp_start_report start contained
hi def link tjp_start_report Type
syn keyword tjp_startcredit startcredit contained
hi def link tjp_startcredit Type
syn keyword tjp_start_limit start contained
hi def link tjp_start_limit Type
syn keyword tjp_gaplength gaplength contained
hi def link tjp_gaplength Type
syn keyword tjp_halign_center center
hi def link tjp_halign_center Type
syn keyword tjp_title title contained
hi def link tjp_title Type
syn keyword tjp_icalreport icalreport contained
hi def link tjp_icalreport Type
syn keyword tjp_hidetask hidetask contained
hi def link tjp_hidetask Type
syn keyword tjp_rollupresource rollupresource contained
hi def link tjp_rollupresource Type
syn keyword tjp_flags_account flags contained
hi def link tjp_flags_account Type
syn keyword tjp_complete complete contained
hi def link tjp_complete Type
syn keyword tjp_currencyformat currencyformat contained
hi def link tjp_currencyformat Type
syn keyword tjp_taskattributes taskattributes contained
hi def link tjp_taskattributes Type
syn keyword tjp_timezone_export timezone contained
hi def link tjp_timezone_export Type
syn keyword tjp_maximum maximum contained
hi def link tjp_maximum Type
syn keyword tjp_extend extend contained
hi def link tjp_extend Type
syn keyword tjp_credit credit contained
hi def link tjp_credit Type
syn keyword tjp_precedes precedes contained
hi def link tjp_precedes Type
syn keyword tjp_projectids projectids
hi def link tjp_projectids Type
syn keyword tjp_taskroot taskroot contained
hi def link tjp_taskroot Type
syn keyword tjp_yearlyworkingdays yearlyworkingdays contained
hi def link tjp_yearlyworkingdays Type
syn keyword tjp_isresource isresource contained
hi def link tjp_isresource Type
syn keyword tjp_navigator navigator contained
hi def link tjp_navigator Type
syn keyword tjp_minstart minstart contained
hi def link tjp_minstart Type
syn keyword tjp_end_report end contained
hi def link tjp_end_report Type
syn keyword tjp_timezone_report timezone contained
hi def link tjp_timezone_report Type
syn keyword tjp_inherit_extend inherit contained
hi def link tjp_inherit_extend Type
syn keyword tjp_isdutyof isdutyof contained
hi def link tjp_isdutyof Type
syn keyword tjp_flags_resource flags contained
hi def link tjp_flags_resource Type
syn keyword tjp_scale_column scale contained
hi def link tjp_scale_column Type
syn keyword tjp_gapduration gapduration contained
hi def link tjp_gapduration Type
syn keyword tjp_weeklymin weeklymin contained
hi def link tjp_weeklymin Type
syn keyword tjp_text_extend text contained
hi def link tjp_text_extend Type
syn keyword tjp_timeformat timeformat contained
hi def link tjp_timeformat Type
syn keyword tjp_email email contained
hi def link tjp_email Type
syn keyword tjp_accountprefix accountprefix contained
hi def link tjp_accountprefix Type

syn match tjparg contained /\${.*}/
syn match tjpcomment /#.*$/
syn match tjpcomment "//.*$"
syn match tjpinclude /include.*$/
syn match tjpnumber /\s[-+]\?\d\+\(\.\d\+\)\?\([hdwmy]\|min\)\?/
syn match tjpdate /\s\d\{4}-\d\{1,2}-\d\{1,2}\(-\d\{1,2}:\d\{1,2}\(:\d\{1,2}\)\?\(-[-+]\?\d\{4}\)\?\)\?/
syn match tjptime /\s\d\{1,2}:\d\d\(:\d\d\)\?/

syn cluster tjpcommon contains=tjpcomment,tjpdate,tjptime,tjpstring,tjpnumber
syn region tjpblk_columns start=/^\s*columns\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_columns,tjp_tooltip_column,tjp_halign_column,tjp_start_column,tjp_listitem_column,tjp_fontcolor_column,tjp_end_column,tjp_period_column,tjp_listtype_column,tjp_cellcolor_column,tjp_celltext_column,tjp_width_column,tjp_scale_column,tjp_title_column contained
syn region tjpblk_depends start=/^\s*depends\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_depends,tjp_onend,tjp_onstart,tjp_gapduration,tjp_gaplength contained
syn region tjpblk_nikureport start=/^\s*nikureport\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_nikureport,tjp_hidetask,tjp_title,tjp_period_report,tjp_end_report,tjp_formats,tjp_start_report,tjp_headline,tjp_hideresource,tjp_timeoff_nikureport,tjp_numberformat
syn region tjpblk_limits_allocate start=/^\s*limits\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_limits_allocate,tjp_maximum,tjpblk_maximum,tjp_monthlymin,tjpblk_monthlymin,tjp_weeklymin,tjpblk_weeklymin,tjp_monthlymax,tjpblk_monthlymax,tjp_dailymax,tjpblk_dailymax,tjp_weeklymax,tjpblk_weeklymax,tjp_minimum,tjpblk_minimum,tjp_dailymin,tjpblk_dailymin contained
syn region tjpblk_timesheet start=/^\s*timesheet\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_timesheet,tjp_status_timesheet,tjpblk_status_timesheet,tjp_shift_timesheet,tjp_task_timesheet,tjpblk_task_timesheet,tjp_newtask,tjpblk_newtask
syn region tjpblk_supplement_resource start=/^\s*supplement resource\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_supplement_resource,tjp_supplement_resource,tjpblk_supplement_resource,tjp_shifts_resource,tjp_vacation_resource,tjp_booking_resource,tjpblk_booking_resource,tjp_resource,tjpblk_resource,tjp_flags_resource,tjp_fail,tjp_limits_resource,tjpblk_limits_resource,tjp_shift_resource,tjp_warn,tjp_efficiency,tjp_managers,tjp_rate_resource,tjp_workinghours_resource,tjp_journalentry,tjpblk_journalentry,tjp_purge,tjp_email,tjp_supplement contained
syn region tjpblk_scenario start=/^\s*scenario\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_scenario,tjp_projection,tjpblk_projection,tjp_enabled,tjp_scenario,tjpblk_scenario,tjp_disabled,tjp_active contained
syn region tjpblk_journalentry start=/^\s*journalentry\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_journalentry,tjp_author,tjp_flags_journalentry,tjp_alert,tjp_summary,tjp_details contained
syn region tjpblk_include_properties start=/^\s*include\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_include_properties,tjp_resourceprefix,tjp_taskprefix,tjp_accountprefix,tjp_reportprefix
syn region tjpblk_dailymax start=/^\s*dailymax\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_dailymax,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_monthlymax start=/^\s*monthlymax\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_monthlymax,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_shift start=/^\s*shift\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_shift,tjp_vacation_shift,tjp_timezone_shift,tjp_workinghours_shift,tjp_replace,tjp_shift,tjpblk_shift
syn region tjpblk_newtask start=/^\s*newtask\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_newtask,tjp_status_timesheet,tjpblk_status_timesheet,tjp_priority_timesheet,tjp_remaining,tjp_work,tjp_end_timesheet contained
syn region tjpblk_limits start=/^\s*limits\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_limits,tjp_maximum,tjpblk_maximum,tjp_monthlymin,tjpblk_monthlymin,tjp_weeklymin,tjpblk_weeklymin,tjp_monthlymax,tjpblk_monthlymax,tjp_dailymax,tjpblk_dailymax,tjp_weeklymax,tjpblk_weeklymax,tjp_minimum,tjpblk_minimum,tjp_dailymin,tjpblk_dailymin
syn region tjpblk_reference_extend start=/^\s*reference\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_reference_extend,tjp_inherit_extend,tjp_scenariospecific_extend contained
syn region tjpblk_minimum start=/^\s*minimum\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_minimum,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_date_extend start=/^\s*date\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_date_extend,tjp_inherit_extend,tjp_scenariospecific_extend contained
syn region tjpblk_booking_task start=/^\s*booking\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_booking_task,tjp_overtime_booking,tjp_sloppy_booking contained
syn region tjpblk_projection start=/^\s*projection\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_projection,tjp_strict_projection,tjp_sloppy_projection contained
syn region tjpblk_tagfile start=/^\s*tagfile\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_tagfile,tjp_hidetask,tjp_rollupresource,tjp_hideresource,tjp_rolluptask
syn region tjpblk_limits_resource start=/^\s*limits\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_limits_resource,tjp_maximum,tjpblk_maximum,tjp_monthlymin,tjpblk_monthlymin,tjp_weeklymin,tjpblk_weeklymin,tjp_monthlymax,tjpblk_monthlymax,tjp_dailymax,tjpblk_dailymax,tjp_weeklymax,tjpblk_weeklymax,tjp_minimum,tjpblk_minimum,tjp_dailymin,tjpblk_dailymin contained
syn region tjpblk_task start=/^\s*task\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_task,tjp_chargeset,tjp_minend,tjp_minstart,tjp_shift_task,tjp_effort,tjp_booking_task,tjpblk_booking_task,tjp_length,tjp_milestone,tjp_flags_task,tjp_responsible,tjp_scheduling,tjp_shifts_task,tjp_task,tjpblk_task,tjp_fail,tjp_maxend,tjp_priority,tjp_start,tjp_adopt_task,tjp_startcredit,tjp_warn,tjp_charge,tjp_end,tjp_note_task,tjp_allocate,tjpblk_allocate,tjp_duration,tjp_limits_task,tjpblk_limits_task,tjp_maxstart,tjp_precedes,tjpblk_precedes,tjp_projectid_task,tjp_supplement_task,tjpblk_supplement_task,tjp_journalentry,tjpblk_journalentry,tjp_period_task,tjp_scheduled,tjp_complete,tjp_depends,tjpblk_depends,tjp_endcredit,tjp_account_task,tjp_purge
syn region tjpblk_dailymin start=/^\s*dailymin\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_dailymin,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_supplement_task start=/^\s*supplement task\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_supplement_task,tjp_chargeset,tjp_minend,tjp_minstart,tjp_shift_task,tjp_effort,tjp_booking_task,tjpblk_booking_task,tjp_length,tjp_milestone,tjp_flags_task,tjp_responsible,tjp_scheduling,tjp_shifts_task,tjp_task,tjpblk_task,tjp_fail,tjp_maxend,tjp_priority,tjp_start,tjp_adopt_task,tjp_startcredit,tjp_warn,tjp_charge,tjp_end,tjp_note_task,tjp_allocate,tjpblk_allocate,tjp_duration,tjp_limits_task,tjpblk_limits_task,tjp_maxstart,tjp_precedes,tjpblk_precedes,tjp_projectid_task,tjp_supplement_task,tjpblk_supplement_task,tjp_journalentry,tjpblk_journalentry,tjp_period_task,tjp_scheduled,tjp_complete,tjp_depends,tjpblk_depends,tjp_endcredit,tjp_account_task,tjp_purge,tjp_supplement contained
syn region tjpblk_monthlymin start=/^\s*monthlymin\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_monthlymin,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_statussheet start=/^\s*statussheet\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_statussheet,tjp_task_statussheet,tjpblk_task_statussheet
syn region tjpblk_allocate start=/^\s*allocate\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_allocate,tjp_limits_allocate,tjpblk_limits_allocate,tjp_shifts_allocate,tjp_persistent,tjp_select,tjp_alternative,tjp_mandatory contained
syn region tjpblk_limits_task start=/^\s*limits\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_limits_task,tjp_maximum,tjpblk_maximum,tjp_monthlymin,tjpblk_monthlymin,tjp_weeklymin,tjpblk_weeklymin,tjp_monthlymax,tjpblk_monthlymax,tjp_dailymax,tjpblk_dailymax,tjp_weeklymax,tjpblk_weeklymax,tjp_minimum,tjpblk_minimum,tjp_dailymin,tjpblk_dailymin contained
syn region tjpblk_task_timesheet start=/^\s*task\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_task_timesheet,tjp_status_timesheet,tjpblk_status_timesheet,tjp_priority_timesheet,tjp_remaining,tjp_work,tjp_end_timesheet contained
syn region tjpblk_richtext_extend start=/^\s*richtext\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_richtext_extend,tjp_inherit_extend,tjp_scenariospecific_extend contained
syn region tjpblk_weeklymax start=/^\s*weeklymax\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_weeklymax,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_booking_resource start=/^\s*booking\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_booking_resource,tjp_overtime_booking,tjp_sloppy_booking contained
syn region tjpblk_report_resourcereport start=/^\s*resourcereport\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_report_resourcereport,tjp_selfcontained,tjp_scenarios,tjp_hidetask,tjp_title,tjp_sorttasks,tjp_period_report,tjp_opennodes,tjp_end_report,tjp_caption,tjp_taskroot,tjp_report,tjpblk_report,tjp_formats,tjp_flags_report,tjp_loadunit,tjp_sortresources,tjp_journalattributes,tjp_hidejournalentry,tjp_header,tjp_center,tjp_timezone_report,tjp_start_report,tjp_balance,tjp_resourceroot,tjp_headline,tjp_epilog,tjp_sortjournalentries,tjp_timeformat,tjp_rollupresource,tjp_right,tjp_hideresource,tjp_footer,tjp_rolluptask,tjp_journalmode,tjp_purge,tjp_prolog,tjp_numberformat,tjp_left,tjp_currencyformat,tjp_columns,tjpblk_columns
syn region tjpblk_report_taskreport start=/^\s*taskreport\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_report_taskreport,tjp_selfcontained,tjp_scenarios,tjp_hidetask,tjp_title,tjp_sorttasks,tjp_period_report,tjp_opennodes,tjp_end_report,tjp_caption,tjp_taskroot,tjp_report,tjpblk_report,tjp_formats,tjp_flags_report,tjp_loadunit,tjp_sortresources,tjp_journalattributes,tjp_hidejournalentry,tjp_header,tjp_center,tjp_timezone_report,tjp_start_report,tjp_balance,tjp_resourceroot,tjp_headline,tjp_epilog,tjp_sortjournalentries,tjp_timeformat,tjp_rollupresource,tjp_right,tjp_hideresource,tjp_footer,tjp_rolluptask,tjp_journalmode,tjp_purge,tjp_prolog,tjp_numberformat,tjp_left,tjp_currencyformat,tjp_columns,tjpblk_columns
syn region tjpblk_report_textreport start=/^\s*textreport\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_report_textreport,tjp_selfcontained,tjp_scenarios,tjp_hidetask,tjp_title,tjp_sorttasks,tjp_period_report,tjp_opennodes,tjp_end_report,tjp_caption,tjp_taskroot,tjp_report,tjpblk_report,tjp_formats,tjp_flags_report,tjp_loadunit,tjp_sortresources,tjp_journalattributes,tjp_hidejournalentry,tjp_header,tjp_center,tjp_timezone_report,tjp_start_report,tjp_balance,tjp_resourceroot,tjp_headline,tjp_epilog,tjp_sortjournalentries,tjp_timeformat,tjp_rollupresource,tjp_right,tjp_hideresource,tjp_footer,tjp_rolluptask,tjp_journalmode,tjp_purge,tjp_prolog,tjp_numberformat,tjp_left,tjp_currencyformat,tjp_columns,tjpblk_columns
syn region tjpblk_status_statussheet start=/^\s*status\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_status_statussheet,tjp_author,tjp_summary,tjp_details,tjp_flags_statussheet contained
syn region tjpblk_timesheetreport start=/^\s*timesheetreport\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_timesheetreport,tjp_period_report,tjp_end_report,tjp_start_report,tjp_hideresource
syn region tjpblk_status_timesheet start=/^\s*status\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_status_timesheet,tjp_summary,tjp_flags_timesheet,tjp_details contained
syn region tjpblk_project start=/^\s*project\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_project,tjp_timezone,tjp_currency,tjp_trackingscenario,tjp_shorttimeformat,tjp_scenario,tjpblk_scenario,tjp_now,tjp_weekstartsmonday,tjp_include_project,tjp_yearlyworkingdays,tjp_timingresolution,tjp_weekstartssunday,tjp_journalentry,tjpblk_journalentry,tjp_timeformat,tjp_workinghours_project,tjp_numberformat,tjp_extend,tjpblk_extend,tjp_dailyworkinghours,tjp_currencyformat
syn region tjpblk_icalreport start=/^\s*icalreport\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_icalreport,tjp_scenario_ical,tjp_hidetask,tjp_period_report,tjp_end_report,tjp_hidejournalentry,tjp_start_report,tjp_rollupresource,tjp_hideresource,tjp_rolluptask
syn region tjpblk_maximum start=/^\s*maximum\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_maximum,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_extend start=/^\s*extend\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_extend,tjp_reference_extend,tjpblk_reference_extend,tjp_date_extend,tjpblk_date_extend,tjp_richtext_extend,tjpblk_richtext_extend,tjp_text_extend,tjpblk_text_extend contained
syn region tjpblk_precedes start=/^\s*precedes\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_precedes,tjp_onend,tjp_onstart,tjp_gapduration,tjp_gaplength contained
syn region tjpblk_export start=/^\s*export\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_export,tjp_hidetask,tjp_period_report,tjp_end_report,tjp_scenarios_export,tjp_resourceattributes,tjp_start_report,tjp_definitions,tjp_timezone_export,tjp_taskattributes,tjp_rollupresource,tjp_hideresource,tjp_rolluptask
syn region tjpblk_resource start=/^\s*resource\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_resource,tjp_supplement_resource,tjpblk_supplement_resource,tjp_shifts_resource,tjp_vacation_resource,tjp_booking_resource,tjpblk_booking_resource,tjp_resource,tjpblk_resource,tjp_flags_resource,tjp_fail,tjp_limits_resource,tjpblk_limits_resource,tjp_shift_resource,tjp_warn,tjp_efficiency,tjp_managers,tjp_rate_resource,tjp_workinghours_resource,tjp_journalentry,tjpblk_journalentry,tjp_purge,tjp_email
syn region tjpblk_navigator start=/^\s*navigator\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_navigator,tjp_hidereport
syn region tjpblk_account start=/^\s*account\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_account,tjp_account,tjpblk_account,tjp_flags_account,tjp_credit
syn region tjpblk_statussheetreport start=/^\s*statussheetreport\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_statussheetreport,tjp_hidetask,tjp_sorttasks,tjp_period_report,tjp_end_report,tjp_sortresources,tjp_start_report,tjp_hideresource
syn region tjpblk_weeklymin start=/^\s*weeklymin\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_weeklymin,tjp_end_limit,tjp_resources_limit,tjp_start_limit,tjp_period_limit contained
syn region tjpblk_text_extend start=/^\s*text\s.*{/ end=/^\s*}/ transparent contains=@tjpcommon,tjp_text_extend,tjp_inherit_extend,tjp_scenariospecific_extend contained
syn region tjpblk_task_statussheet start=/^\s*task\s.*{/ end=/^\s*}/ transparent fold contains=@tjpcommon,tjp_task_statussheet,tjp_task_statussheet,tjpblk_task_statussheet,tjp_status_statussheet,tjpblk_status_statussheet contained
syn region tjpblk_macro start=/macro\s\+\h\w*\s*\[/ end=/\]$/ transparent fold contains=ALL
syn region tjpstring start=/"/ skip=/\\"/ end=/"/
syn region tjpstring start=/'/ skip=/\\'/ end=/'/
syn region tjpstring start=/\s-8<-$/ end=/^\s*->8-/
syn region tjpmlcomment start=+/\*+ end=+\*/+

syn sync fromstart
set foldmethod=syntax

hi def link tjp_macro PreProc
hi def link tjp_supplement Function
hi def link tjp_project Function
hi def link tjpproperty Function
hi def link tjpattribute Type
hi def link tjparg Special
hi def link tjpstring String
hi def link tjpcomment Comment
hi def link tjpmlcomment Comment
hi def link tjpinclude Include
hi def link tjpdate Constant
hi def link tjptime Constant
hi def link tjpnumber Number

let b:current_syntax = "tjp"

" Support running tj3 from within vim. Just type ':make your_project.tjp' to
" activate it.
set makeprg=tj3

" Support browsing the man page by typing Shift-k while having the cursor over
" any syntax keyword
set keywordprg=tj3man

" Remap Ctrl-] to show full ID of property defined in the current
" line. This requires a current ctags file (generated by 'tagfile'
" report') to be present in the directory where vim was started.
map <C-]> :call ShowFullID()<CR>
function! ShowFullID()
  let linenumber = line(".")
  let filename = bufname("%")
  execute "!grep '".filename."\t".linenumber.";' tags|cut -f 1"
endfunction

augroup TaskJugglerSource
  " Remove all trailing white spaces from line ends when saving files
  " Note: This overwrites the s mark.
  autocmd BufWritePre *.tj[ip] mark s | %s/\s\+$//e | normal `s
augroup END
